USERSPACE_BUILD_DIR = build
export  # export this to Makefiles in subdirectories

<<<<<<< HEAD
all: 
	@mkdir -p $(BUILD_DIR)
	@nasm -f bin test_program.s -o $(BUILD_DIR)/test_program
	
=======
TOPTARGETS := all clean

# get all the subdirectories for making
SUBDIRS := $(wildcard */.)
# except for the build directory
SUBDIRS := $(filter-out $(USERSPACE_BUILD_DIR)/., $(SUBDIRS))


$(TOPTARGETS): $(SUBDIRS)
$(SUBDIRS):
	$(MAKE) -C $@ $(MAKECMDGOALS)

.PHONY: $(TOPTARGETS) $(SUBDIRS)
>>>>>>> 688d8dc228a3889506ca93e5eb6fa3724e6fa3f5
